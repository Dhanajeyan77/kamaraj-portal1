name: "sandbox-cage"
mode: ONCE
hostname: "Kamaraj-Sandbox"
cwd: "/app"
time_limit: 5          # Reduced to 5s (more than enough for competitive coding)
rlimit_as: 512         # Reduced to 512MB (prevents memory exhaustion)
rlimit_nproc: 1        # ðŸ”¥ FORK BOMB PROTECTION: Only 1 process allowed
rlimit_fsize: 10       # Max 10MB file creation (prevents filling up disk)

# NETWORK ISOLATION
clone_newnet: true     # ðŸ”¥ Cuts internet access inside the jail

# MOUNT SETTINGS
mount { src: "/usr"; dst: "/usr"; is_bind: true }
mount { src: "/lib"; dst: "/lib"; is_bind: true }
mount { src: "/lib64"; dst: "/lib64"; is_bind: true }
mount { src: "/bin"; dst: "/bin"; is_bind: true }
mount { src: "/etc/ld.so.cache"; dst: "/etc/ld.so.cache"; is_bind: true }

# Create a fresh /tmp for every run so students can't see each other's files
mount { dst: "/tmp"; fstype: "tmpfs"; rw: true }